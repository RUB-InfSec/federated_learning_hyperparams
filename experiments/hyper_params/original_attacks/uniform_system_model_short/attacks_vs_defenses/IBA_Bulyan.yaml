resources:
  devices: "0"
  cpus_per_client: 1
  gpus_per_client: 0.1

# General setting
num_clients: 100
clients_per_round: 10
num_rounds: 2100
partitioning: 'dirichlet'
partitioning_hyperparam: 0.9

# Strategy
strategy:
  name: 'fedavg'
  lr_scheduler:
    name: 'exp'
    gamma: 0.998

# Task configuration
dataset: 'cifar10'
model: 'resnet20'
batch_size: 32
test_batch_size: 128
optimizer:
  name: 'sgd'
  local_lr: 0.02
  momentum: 0.9
  weight_decay: 0.0001
lr_scheduler:
  name:
local_epochs: 2

# Adversary configuration
attacker:
  name: 'iba'
  eps: 2
  eps_decay: 0.001
  atk_eps: 0.3
  atk_test_eps: 0.05
  atk_model_train_epoch: 10
  project_frequency: 1
  gamma: 0.998 # This should be equal to the gamma of the main task gamma
  model_replacement: False
  alpha: 0.5
  method: 'blackbox'
  atk_lr: 0.0001
  attack_model: unet
  expected_atk_threshold: 0.85
adversarial_optimizer:
  name: 'sgd'
  local_lr:
  momentum: 0.9
  weight_decay: 0.0001
adversarial_lr_scheduler:
  name:
local_epochs_malicious_clients: 2
compromised_clients: 0.1

# Backdoor configuration
backdoor:
  type: 'input_dependent_trigger'
  source_class:
  target_class: 1
  poison_ratio: 1
poisoning_scheduler:
  name: 'interval'
  start_round: 1000
  end_round: 1100

# Defense
defense:
  name: 'bulyan'
  f: 1

# Differential Privacy
differential_privacy:
  enabled: false
